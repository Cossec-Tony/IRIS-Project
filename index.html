<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tregrom phase1</title>
    <link rel="stylesheet" href="style.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <meta itemprop="name" content="Tregrom phase1">
    <meta itemprop="description" content="made with cables">
    <meta itemprop="image" content="screenshot.png">
    <meta name="description" content="made with cables"/>

</head>
<body>

      <!-- NAV -->
  <nav class="top-nav">
    <a href="https://github.com/Cossec-Tony/IRIS-Project" target="_blank" rel="noopener">Github</a>
    <a href="#" id="openStory">Histoire</a>
    <a href="#">Contact</a>
  </nav>

  <!-- HOME SCREEN -->
  <div id="home" class="home-screen">
    <h1 class="main-title">Le Saumon Atlantique</h1>
    <button id="startBtn" class="start-btn">Entrer dans l’expérience</button>
  </div>

  <div id="story" class="story-screen">
  <div class="story-content">
    <h1>Histoire</h1>

    <p>
      L’objectif était de proposer une interprétation multimédia créative basée
      sur une entité (faune ou flore) issue du site du Léguer à Trégrom
      (classé Natura 2000), et utilisant de véritables données extraites de
      l’application <em>Le Fil des Temps</em> :
      <br><br>
      <a href="https://gregoirecliquet.xyz/irise/index_frfr.html" target="_blank">
        Le Fil des Temps
      </a>
    </p>

    <p>
      Nous avons choisi l’espèce du <strong>saumon Atlantique</strong>,
      une espèce migratoire protégée et essentielle à l’écosystème.
    </p>

    <p>
      À travers un dispositif de mapping vidéo interactif, le visiteur est invité
      à suivre le parcours de vie du saumon (en trois phases), de sa naissance
      à son retour sur son lieu de reproduction.
    </p>

    <p>
      Le projet adopte une approche sensible et poétique, inspirée de l’univers
      de l’aquarelle, évoquant l’innocence du regard d’un enfant face à la nature.
      L’objectif n’est pas d’alerter par la peur, mais de provoquer l’empathie,
      l’émerveillement et la prise de conscience collective.
    </p>

    <h2>Parcours narratif</h2>

    <h3>La naissance</h3>
    <p>
      Le saumon s’affiche à l’écran et se déplace en fonction des mouvements de la souris du visiteur.
      Le décor évolue en fonction des conditions météorologiques réelles du
      Léguer, ancrant l’expérience dans le réel.
    </p>

    <h3>La traversée</h3>
    <p>
      Le saumon traverse une série de tableaux symbolisant les étapes qu’il
      affronte en mer : pollution, réchauffement de l’eau, résidus médicamenteux,
      raréfaction de son alimentation.
    </p>

    <h3>Le retour</h3>
    <p>
      Le saumon atteint son lieu de reproduction, le Léguer. À la fin du parcours,
      un nouvel œuf apparaît et s’illumine. Plus il y a de visiteurs, plus le nombre
      d’œufs augmente, symbolisant la force de la prise de conscience collective.
    </p>

    <p class="story-credits">
      Réalisé en partie avec CableGL<br>
      <strong>Hugo Cossec</strong> — <strong>Kimberley Le Couls</strong>
    </p>

    <button id="closeStory" class="close-btn">Fermer</button>
  </div>
</div>


  <!-- FADE OVERLAY -->
  <div id="fade" class="fade-overlay"></div>

  <!-- LOADING CIRCLE -->
  <div id="edgeLoader" class="edge-loader"></div>

  <!-- THANK YOU SCREEN -->
  <div id="thanks" class="thanks-screen">
    <h1>Merci pour votre visite !</h1>
    <p>Illustratrice : <strong>Kimberley Le Couls</strong></p>
    <p>Développeur : <strong>Hugo Cossec</strong></p>
  </div>

  <!-- AUDIO -->
  <audio id="bgMusic" loop>
    <source src="./assets/water-fountain-healing-music-239455.mp3.mkv.mp3" type="audio/mpeg">
  </audio>


    <canvas id="glcanvas" width="100vw" height="100vh" tabindex="1"></canvas>

    
    <script type="text/javascript" src="js/patch.js" async></script>
    
    <script src="./experience.js"></script>
    <script type="text/javascript">

        function showError(initiator,...args)
        {
            CABLES.logErrorConsole("[" + initiator + "]", ...args);
        }

        function patchInitialized(patch)
        {
            // You can now access the patch object (patch), register variable watchers and so on
        }

        function patchFinishedLoading(patch)
        {
            // The patch is ready now, all assets have been loaded
        }

        document.addEventListener("CABLES.jsLoaded", function (event)
        {
            CABLES.patch = new CABLES.Patch({
                patch: CABLES.exportedPatch,
                "prefixAssetPath": "",
                "assetPath": "assets/",
                "jsPath": "js/",
                "glCanvasId": "glcanvas",
                "glCanvasResizeToWindow": true,
                "onError": showError,
                "onPatchLoaded": patchInitialized,
                "onFinishedLoading": patchFinishedLoading,
                "canvas": {"alpha":true, "premultipliedAlpha":true } // make canvas transparent
            });
        });

        // disable rubberband effect on mobile devices
        document.getElementById('glcanvas').addEventListener('touchmove', (e)=>{ e.preventDefault(); }, false);
    </script>
</body>
</html>
